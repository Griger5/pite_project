data:
  manifest: manifest.csv
  cache_dir: /data/cache/mel_3s_16k
  use_cache: true
  use_cache_train: true
  augment:
    enabled: false
    p_noise: 0.95
    p_music: 0.75
    p_rir: 0.75
    snr_db_min: -12.0
    snr_db_max: 10.0
    music_snr_db_min: -18.0
    music_snr_db_max: 6.0
    gain_db_min: -12.0
    gain_db_max: 12.0
    allow_music_and_noise: true
    preload: true
    preload_max_files: 512
    preload_segments_per_file: 2
    feature_mask:
      enabled: true
      time_masks: 8
      time_width: 32
      freq_masks: 6
      freq_width: 20
      noise_std: 0.03

loader:
  batch_size: 256
  num_workers: 12
  pin_memory: true
  persistent_workers: true
  allow_augment_workers: true
  prefetch_factor: 4
  drop_last: true
  balanced_sampler: true

train:
  epochs: 10 
  device: auto
  clip_grad_norm: 1.0
  class_weights: balanced

optim:
  lr: 0.0003
  weight_decay: 0.01

metrics:
  every: 1
  threshold: auto
  threshold_scope: val

wandb:
  enabled: true

checkpoints:
  dir: checkpoints
  save_best: true
  save_last: true
  metric: val_loss
